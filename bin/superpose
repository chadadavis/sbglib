#!/usr/bin/env perl

use strict;

use File::Basename;
use SBG::Domain;
use SBG::DomainIO;
use SBG::STAMP;

my ($file1, $file2) = @ARGV;
die unless $file1 && $file2;
my $base1 = basename $file1, '.dom';
my $base2 = basename $file2, '.dom';

my $dom1 = new SBG::DomainIO(-file=>$file1)->read;
my $dom2 = new SBG::DomainIO(-file=>$file2)->read;

my $trans = superpose($dom1, $dom2);

my $concat = "$base1-$base2";
my $d = new SBG::Domain(-label=>"t-$concat",-transformation=>$trans);

my $tfile = "${concat}.trans";
new SBG::DomainIO(-file=>">$tfile")->write($d,-id=>'label');
print STDERR "$tfile\n";


